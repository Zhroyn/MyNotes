<!-- TOC -->

- [寄存器](#寄存器)
  - [通用寄存器](#通用寄存器)
  - [物理地址](#物理地址)
  - [段寄存器](#段寄存器)
- [指令](#指令)
- [DosBox调试指令](#dosbox调试指令)
- [源程序](#源程序)

<!-- /TOC -->



### 寄存器
#### 通用寄存器
- `AX` : `AH`, `AL`
- `BX` : `BH`, `BL`
- `CX` : `CH`, `CL`
- `DX` : `DH`, `DL`

#### 物理地址
- 段地址和偏移地址各16位
- 8086CPU地址加法器采用**物理地址=段地址x16+偏移地址**的方法合成物理地址

#### 段寄存器
- `CS` : 代码段寄存器
- `DS` : 通常用来存放要访问的数据的段地址
  - 8086CPU不支持将数据直接送入段寄存器，所以需要其他寄存器或内存单元中转
  - `MOV AL,[0]` 会将`DS:0`处的内存单元（8位）送入`AL`中
  - `MOV AX,[0]` 会将`DS:0`处的字型数据（16位）送入`AX`中
- `SS`
- `ES`









### 指令
- `MOV A,B` 将B或B中的值送入寄存器A中（传送指令）
- `ADD A,B` 使寄存器A中的值加上B或B中的值
- `SUB A,B` 使寄存器A中的值减去B或B中的值
<br>

- `JMP A:B` 用A修改CS，用B修改IP
- `JMP A` 用A或A中的值修改IP
  - `CS`为代码段寄存器，`IP`为指令指针寄存器
  - 8086机中，任意时刻，CPU将`CS:IP`指向的内容当作指令执行
  - 读取一条指令后，`IP`会加上所读取指令的长度
<br>

- `PUSH A` 将寄存器A中的数据送入栈
- `POP A` 从栈顶取出数据送入寄存器A
  - 8086CPU的入栈和出栈操作都是以字为单位进行的
  - 入栈时，字从栈顶开始自高向低存放，其中高地址单元存放高8位，低地址单元存放低8位
  - 任意时刻，`SS:SP`指向栈顶元素，`PUSH`执行以后`SP`会减2







### DosBox调试指令
- `-t` 单步执行
- `-p` 以汇编指令的格式在内存中写入一条机器指令
- `-q` 退出
<br>

- `-r` 查看所有寄存器的值
- `-r REG` 修改寄存器A中的值
<br>

- `-d` 从当前或之前查看位置开始查看内存
- `-d ADDR` 从指定位置开始查看内存
- `-d ADDR N` 从指定位置开始查看内存，到指定偏移地址结束
<br>

- `-e ADDR` 从指定位置开始修改内存中的内容，按空格进入下一个，按Enter结束修改
- `-e ADDR A B C ...` 从指定位置开始，用输入内容修改内存中的内容
<br>

- `-a` 以汇编指令的格式，从当前位置开始写入机器指令
- `-a ADDR` 以汇编指令的格式，从指定位置开始写入机器指令
- `-u ADDR` 将内存中的机器指令翻译成汇编指令







### 源程序
- `.386` 表示要用32位寄存器
- `code segment user16` 表示使用16位地址